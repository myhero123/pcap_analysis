<!DOCTYPE html>
<html lang="zh-CN">

<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>机器学习</title>

    <link href="../../static/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="../../static/bootstrap-3.3.5/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" />

    <script src="../../static/bootstrap-3.3.5/js/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script src="../../static/bootstrap-3.3.5/js/bootstrap.min.js" type="text/javascript"></script>
</head>

<body>
    <br>
    <br>
    <div class="container">
        <h2 class="text-center">机器学习分析报告</h2>
    </div>

    <div class="container" style="height: 400px; width: 90%">
        <div id="main" style="height: 400px;width: 90%;float: inline-start;"></div>
    </div>

    <div class="container" style="height: 400px; width: 90%">
        <div id="main1" style="height: 400px;width: 40%;float: left;"></div>
        <div id="main2" style="height: 400px;width: 40%;float: left;"></div>
    </div>

    <div class="container" style="height: 400px; width: 90%">
        <div id="main3" style="height: 400px;width: 40%;float: left;"></div>
        <div id="main4" style="height: 400px;width: 40%;float: left;"></div>
    </div>

    <div class="container" style="height: 400px; width: 90%">
        <div id="main5" style="height: 400px;width: 40%;float: left;"></div>
    </div>


    <script src="../../static/echarts-2.27/echarts.min.js" type="text/javascript"></script>


    <script type="text/javascript">
        var dom = document.getElementById("main");
        var myChart = echarts.init(dom);
        var app = {};
        var option;
        var ylabel;
        var xlabel = ['knn', 'RandomForest', 'svm', 'BernoulliNB', 'DecisionTree'];

        //data = [0.9974972973773454, 0.9912769710699274, 0.9929720436117552, 0.9974972973773454, 0.991460782644243]
        data=[{{machine_info[0]['knn']}},{{machine_info[0]['rf']}},{{machine_info[0]['svm']}},{{machine_info[0]['nb']}},{{machine_info[0]['dt']}}];
        option = {
            title: {
                text: '准确率'
            },
            xAxis: {
                type: 'category',
                data: xlabel,
		splitArea: {
                    show: true
		}
            },
            yAxis: {
                min: 0.99,
                max: 1,
		splitArea: {
                    show: true
		}

            },
            series: [{
                data: data,
                type: 'line'
            }]
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }
    </script>

    <script type="text/javascript">
        var dom = document.getElementById("main1");
        var myChart = echarts.init(dom);
        var app = {};

        var option;
        var report = []
        report={{machine_info[2]['knn']}};
        xlabel = [
            'precision', 'recall', 'f1-score', 'support'
        ];

        ylabel = [
            '正常数据', '恶意数据 ', 'accuracy',
            'macro avg', 'weighted avg'
        ];
        // prettier-ignore
        data = [
                [0, 0, report[14]],
                [0, 1, report[15]],
                [0, 2, report[16]],
                [0, 3, report[17]],
                [1, 0, report[10]],
                [1, 1, report[11]],
                [1, 2, report[12]],
                [1, 3, report[13]],
                [2, 0, 0],
                [2, 1, 0],
                [2, 2, report[8]],
                [2, 3, report[9]],
                [3, 0, report[4]],
                [3, 1, report[5]],
                [3, 2, report[6]],
                [3, 3, report[7]],
                [4, 0, report[0]],
                [4, 1, report[1]],
                [4, 2, report[2]],
                [4, 3, report[3]]
            ]
            .map(function(item) {
                return [item[1], item[0], item[2] || '-'];
            });
        option = {
            title: {
                text: 'k-近邻算法分类报告',
                x: 'center'
            },
            tooltip: {
                position: 'top'
            },
            grid: {
                height: '50%',
                top: '10%'
            },
            xAxis: {
                type: 'category',
                data: xlabel,
                splitArea: {
                    show: true
                }
            },
            yAxis: {
                type: 'category',
                data: ylabel,
                splitArea: {
                    show: true
                }
            },
            visualMap: {
                min: 0,
                max: 10,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '15%'
            },
            series: [{
                name: 'Punch Card',
                type: 'heatmap',
                data: data,
                label: {
                    show: true
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }
    </script>

    <script type="text/javascript">
        var dom = document.getElementById("main2");
        var myChart = echarts.init(dom);
        var app = {};
        eport={{machine_info[2]['rf']}};
        var option;
        // prettier-ignore
        data = [
                [0, 0, report[14]],
                [0, 1, report[15]],
                [0, 2, report[16]],
                [0, 3, report[17]],
                [1, 0, report[10]],
                [1, 1, report[11]],
                [1, 2, report[12]],
                [1, 3, report[13]],
                [2, 0, 0],
                [2, 1, 0],
                [2, 2, report[8]],
                [2, 3, report[9]],
                [3, 0, report[4]],
                [3, 1, report[5]],
                [3, 2, report[6]],
                [3, 3, report[7]],
                [4, 0, report[0]],
                [4, 1, report[1]],
                [4, 2, report[2]],
                [4, 3, report[3]]
            ]
            .map(function(item) {
                return [item[1], item[0], item[2] || '-'];
            });
        option = {
            title: {
                text: '随机森林分类报告',
                x: 'center'
            },
            tooltip: {
                position: 'top'
            },
            grid: {
                height: '50%',
                top: '10%'
            },
            xAxis: {
                type: 'category',
                data: xlabel,
                splitArea: {
                    show: true
                }
            },
            yAxis: {
                type: 'category',
                data: ylabel,
                splitArea: {
                    show: true
                }
            },
            visualMap: {
                min: 0,
                max: 10,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '15%'
            },
            series: [{
                name: 'Punch Card',
                type: 'heatmap',
                data: data,
                label: {
                    show: true
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }
    </script>

    <script type="text/javascript">
        var dom = document.getElementById("main3");
        var myChart = echarts.init(dom);
        var app = {};

        var option;

        report={{machine_info[2]['svm']}};
        // prettier-ignore
        data = [
                [0, 0, report[14]],
                [0, 1, report[15]],
                [0, 2, report[16]],
                [0, 3, report[17]],
                [1, 0, report[10]],
                [1, 1, report[11]],
                [1, 2, report[12]],
                [1, 3, report[13]],
                [2, 0, 0],
                [2, 1, 0],
                [2, 2, report[8]],
                [2, 3, report[9]],
                [3, 0, report[4]],
                [3, 1, report[5]],
                [3, 2, report[6]],
                [3, 3, report[7]],
                [4, 0, report[0]],
                [4, 1, report[1]],
                [4, 2, report[2]],
                [4, 3, report[3]]
            ]
            .map(function(item) {
                return [item[1], item[0], item[2] || '-'];
            });
        option = {
            title: {
                text: '支持向量机分类报告',
                x: 'center'
            },
            tooltip: {
                position: 'top'
            },
            grid: {
                height: '50%',
                top: '10%'
            },
            xAxis: {
                type: 'category',
                data: xlabel,
                splitArea: {
                    show: true
                }
            },
            yAxis: {
                type: 'category',
                data: ylabel,
                splitArea: {
                    show: true
                }
            },
            visualMap: {
                min: 0,
                max: 10,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '15%'
            },
            series: [{
                name: 'Punch Card',
                type: 'heatmap',
                data: data,
                label: {
                    show: true
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }
    </script>
    <script type="text/javascript">
        var dom = document.getElementById("main4");
        var myChart = echarts.init(dom);
        var app = {};
        report={{machine_info[2]['nb']}};
        var option;
        // prettier-ignore
        data = [
                [0, 0, report[14]],
                [0, 1, report[15]],
                [0, 2, report[16]],
                [0, 3, report[17]],
                [1, 0, report[10]],
                [1, 1, report[11]],
                [1, 2, report[12]],
                [1, 3, report[13]],
                [2, 0, 0],
                [2, 1, 0],
                [2, 2, report[8]],
                [2, 3, report[9]],
                [3, 0, report[4]],
                [3, 1, report[5]],
                [3, 2, report[6]],
                [3, 3, report[7]],
                [4, 0, report[0]],
                [4, 1, report[1]],
                [4, 2, report[2]],
                [4, 3, report[3]]
            ]
            .map(function(item) {
                return [item[1], item[0], item[2] || '-'];
            });
        option = {
            title: {
                text: '朴素贝叶斯分类报告',
                x: 'center'
            },
            tooltip: {
                position: 'top'
            },
            grid: {
                height: '50%',
                top: '10%'
            },
            xAxis: {
                type: 'category',
                data: xlabel,
                splitArea: {
                    show: true
                }
            },
            yAxis: {
                type: 'category',
                data: ylabel,
                splitArea: {
                    show: true
                }
            },
            visualMap: {
                min: 0,
                max: 10,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '15%'
            },
            series: [{
                name: 'Punch Card',
                type: 'heatmap',
                data: data,
                label: {
                    show: true
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }
    </script>
    <script type="text/javascript">
        var dom = document.getElementById("main5");
        var myChart = echarts.init(dom);
        var app = {};
        report={{machine_info[2]['dt']}};
        var option;
        // prettier-ignore
        data = [
                [0, 0, report[14]],
                [0, 1, report[15]],
                [0, 2, report[16]],
                [0, 3, report[17]],
                [1, 0, report[10]],
                [1, 1, report[11]],
                [1, 2, report[12]],
                [1, 3, report[13]],
                [2, 0, 0],
                [2, 1, 0],
                [2, 2, report[8]],
                [2, 3, report[9]],
                [3, 0, report[4]],
                [3, 1, report[5]],
                [3, 2, report[6]],
                [3, 3, report[7]],
                [4, 0, report[0]],
                [4, 1, report[1]],
                [4, 2, report[2]],
                [4, 3, report[3]]
            ]
            .map(function(item) {
                return [item[1], item[0], item[2] || '-'];
            });
        option = {
            title: {
                text: '决策树分类报告',
                x: 'center'
            },
            tooltip: {
                position: 'top'
            },
            grid: {
                height: '50%',
                top: '10%'
            },
            xAxis: {
                type: 'category',
                data: xlabel,
                splitArea: {
                    show: true
                }
            },
            yAxis: {
                type: 'category',
                data: ylabel,
                splitArea: {
                    show: true
                }
            },
            visualMap: {
                min: 0,
                max: 10,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '15%'
            },
            series: [{
                name: 'Punch Card',
                type: 'heatmap',
                data: data,
                label: {
                    show: true
                },
                emphasis: {
                    itemStyle: {
                        shadowBlur: 10,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }]
        };

        if (option && typeof option === 'object') {
            myChart.setOption(option);
        }
    </script>
</body>

</html>
